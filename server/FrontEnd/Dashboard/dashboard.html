<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="icon" type="image/png" href="../img/logo5.png">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Neuro Impression Dashboard</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />


    <!-- Bootstrap core CSS     -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Animation library for notifications   -->
    <link href="assets/css/animate.min.css" rel="stylesheet"/>

    <!--  Light Bootstrap Table core CSS    -->
    <link href="assets/css/light-bootstrap-dashboard.css?v=1.4.0" rel="stylesheet"/>


    <!--  CSS for Demo Purpose, don't include it in your project     -->
    <link href="assets/css/demo.css" rel="stylesheet" />


    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300' rel='stylesheet' type='text/css'>
    <link href="assets/css/pe-icon-7-stroke.css" rel="stylesheet" />

</head>
<body>

<div class="wrapper">
    <div class="sidebar" data-color="gray" data-image="../img/im2.jpg">

    <!--

        Tip 1: you can change the color of the sidebar using: data-color="blue | azure | green | orange | red | purple"
        Tip 2: you can also add an image using data-image tag

    -->

    	<div class="sidebar-wrapper">
            <div class="logo">
                <a href="#" class="simple-text">
                    Nuero Impression
                </a>
            </div>

            <ul class="nav">
                <li class="active">
                    <a href="dashboard.html">
                        <i class="pe-7s-graph"></i>
                        <p>Dashboard</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <i class="pe-7s-user"></i>
                        <p>User Profile</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <i class="pe-7s-note2"></i>
                        <p>Table List</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <i class="pe-7s-news-paper"></i>
                        <p>Typography</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <i class="pe-7s-science"></i>
                        <p>Icons</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <i class="pe-7s-map-marker"></i>
                        <p>Maps</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <i class="pe-7s-bell"></i>
                        <p>Notifications</p>
                    </a>
                </li>
                    </a>
                </li>
            </ul>
    	</div>
    </div>

    <div class="main-panel">
        <nav class="navbar navbar-default navbar-fixed">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-example-2">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">Dashboard</a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-left">
                        <li>
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-dashboard"></i>
								<p class="hidden-lg hidden-md">Dashboard</p>
                            </a>
                        </li>
                        <li class="dropdown">
                              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    <i class="fa fa-globe"></i>
                                    <b class="caret hidden-lg hidden-md"></b>
									<p class="hidden-lg hidden-md">
										5 Notifications
										<b class="caret"></b>
									</p>
                              </a>
                              <ul class="dropdown-menu">
                                <li><a href="#">Notification 1</a></li>
                                <li><a href="#">Notification 2</a></li>
                                <li><a href="#">Notification 3</a></li>
                                <li><a href="#">Notification 4</a></li>
                                <li><a href="#">Another notification</a></li>
                              </ul>
                        </li>
                        <li>
                           <a href="">
                                <i class="fa fa-search"></i>
								<p class="hidden-lg hidden-md">Search</p>
                            </a>
                        </li>
                    </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                           <a href="">
                               <p>Account</p>
                            </a>
                        </li>
                        <li class="dropdown">
                              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    <p>
										Dropdown
										<b class="caret"></b>
									</p>

                              </a>
                              <!--ul class="dropdown-menu">
                                <li><a href="#">Action</a></li>
                                <li><a href="#">Another action</a></li>
                                <li><a href="#">Something</a></li>
                                <li><a href="#">Another action</a></li>
                                <li><a href="#">Something</a></li>
                                <li class="divider"></li>
                                <li><a href="#">Separated link</a></li>
                              </ul-->
                        </li>
                        <li>
                            <a href="#">
                                <p>Log out</p>
                            </a>
                        </li>
						<li class="separator hidden-lg"></li>
                    </ul>
                </div>
            </div>
        </nav>


        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card">

                            <div class="header">
                                <h4 class="title">Incoming Video Feed</h4>
                                <p class="category">Inputted to Trained Model</p>
                            </div>
                            <div class="content">
															<!--id="chartPreferences" class="ct-chart ct-perfect-fourth"-->
                                <div>
																	<iframe src="http://localhost:8080/" style="overflow:hidden; height:380px; scrolling="no" frameborder="0""></iframe>
																</div>

                                <div class="footer">

                                    <hr>
                                    <div class="stats">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-8" style="height:380px;">
                        <div class="card">
                            <div class="header">
                                <h4 class="title">5 Personality traits</h4>
                                <p class="category">Generating the Psychological profile</p>
																<br><br>
                            </div>
                            <div class="content">
															<div id="chartActivity" class="ct-chart "></div>
                                <!--div id="chartHours" class="ct-chart"></div-->
                                <div class="footer">
                                    <!--div class="legend">
                                        <i class="fa fa-circle text-info"></i> Open
                                        <i class="fa fa-circle text-danger"></i> Click
                                        <i class="fa fa-circle text-warning"></i> Click Second Time
                                    </div-->
                                    <hr><br>
                                    <div class="stats">
                                        <!-- <i class="fa fa-history"></i> Updated 3 minutes ago -->
																				Max Age :<b><div id="age">N/A</div></b>   Gender : <b><div id="gender">N/A</div></b>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

								<div class="col-md-10" style="height:'200px'; width:100%;">
										<div class="card">
											<div class="header">
													<h4 class="title">Agent Profiles</h4>
													<p class="category">Agents present in a bank</p>
											</div>
												<div class="content">
													<TABLE BORDER=0 cellpadding="0" cellspacing="0" style="width: 100%">
														<TR>
														<TD><img src='agents/agent1.png' style="width:90px; height:90px; overflow: hidden;"></TD>
														<TD><img src='agents/agent2.png' style="width:90px; height:90px; overflow: hidden;"></TD>
														<TD><img src='agents/agent6.png' style="width:90px; height:90px; overflow: hidden;"></TD>
														<TD><img src='agents/agent4.png' style="width:90px; height:90px; overflow: hidden;"></TD>
														<TD><img src='agents/agent5.png' style="width:90px; height:90px; overflow: hidden;"></TD>
														<TD><img src='agents/agent8.png' style="width:90px; height:90px; overflow: hidden;"></TD>
														<TD><img src='agents/agent7.png' style="width:90px; height:90px; overflow: hidden;"></TD>
														</TR>
														<TR>
															<TD style="padding-left:19px;padding-top:5px;font-size:1.2em;">Wasim</TD>
															<TD style="padding-left:30px;padding-top:5px;font-size:1.2em;">Ajit</TD>
															<TD style="padding-left:12px;padding-top:5px;font-size:1.2em;">Abhishek</TD>
															<TD style="padding-left:9px;padding-top:5px;font-size:1.2em;">Satyendra</TD>
															<TD style="padding-left:21px;padding-top:5px;font-size:1.2em;">Sanjay</TD>
															<TD style="padding-left:20px;padding-top:5px;font-size:1.2em;">Seema</TD>
															<TD style="padding-left:25px;padding-top:5px;font-size:1.2em;">Bipin</TD>
														</TR>

															</TABLE>
														</div>
												</div>
										</div>
								</div>
						</div>





                <div class="row">
                    <div class="col-md-6">
                        <div class="card ">
                            <div class="header">
                                <h4 class="title">Financial Personality Type</h4>
																<p class="category">Classifying personality into 5 profiles</p>
                                <p class="category"></p>
                            </div>
                            <div class="content">
															<div class="row">
																<div class="col-md-3">
                                <img src='' width="200px" id="perImage">
																</div>
																<div>
																<b><p id="perText" style="margin-left:250px; font-size:3.7em"></p></b>
															</div>

														</div>

                                <div class="footer">
                                    <div class="legend">

                                    </div>
                                    <hr>
                                    <div class="stats">
                                        <i class="fa fa-check"></i> Data information certified
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="card ">
                            <div class="header">
                                <h4 class="title">Best Agent match</h4>
																<p class="category">Best agent matched for customer'spersonality</p>
                                <p class="category"></p>
                            </div>
                            <div class="content">
															<div class="row">
																<div class="col-md-3">
                                <img src='' width="200px" id="agentImage">
																</div>
																<div>
																<b><p id="agentText" style="margin-left:250px;"></p></b>
																<p style="margin-left:250px;">Plans:</p>
																<ul id="plans" style="margin-left:250px;"></ul>
															</div>
                                                              </div>

                                <div class="footer">
                                    <hr>
                                    <div class="stats">
                                        <i class="fa fa-history"></i> Updated 3 minutes ago
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



    </div>
</div>


</body>

    <!--   Core JS Files   -->
    <script src="assets/js/jquery.3.2.1.min.js" type="text/javascript"></script>
	<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>

	<!--  Charts Plugin -->
	<script src="assets/js/chartist.min.js"></script>

    <!--  Notifications Plugin    -->
    <script src="assets/js/bootstrap-notify.js"></script>

    <!--  Google Maps Plugin    -->
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>

    <!-- Light Bootstrap Table Core javascript and methods for Demo purpose -->
	<script src="assets/js/light-bootstrap-dashboard.js?v=1.4.0"></script>

	<!-- Light Bootstrap Table DEMO methods, don't include it in your project! -->
	<script src="assets/js/demo.js"></script>



	<script type="text/javascript">

	var updateChart = function(data){
		var data = {
labels: ['Extraversion','Agreeableness','Conscientiousness','Neurotisicm','Openness'],
series: [data]
};

var options = {
seriesBarDistance: 10,
axisX: {
showGrid: false
},
height: "245px"
};

var responsiveOptions = [
['screen and (max-width: 640px)', {
seriesBarDistance: 5,
axisX: {
labelInterpolationFnc: function (value) {
return value[0];
}
}
}]
];

Chartist.Bar('#chartActivity', data, options, responsiveOptions);

	}
    	$(document).ready(function(){
				updateChart([0.3,0.7,0.5,0.6,0.8]);
				(function(d) {
    			var script = d.createElement('script');
    			script.type = 'text/javascript';
    			script.async = true;
    			script.onload = function(){
		        console.log("Connect");
						var socket = io('http://localhost:8080/');
						socket.on('connect',function(){
							setTimeout(function(){
								socket.emit('chart', 'data');
							},200);

      		});

					socket.on('personality',(msg)=>{
						msg=msg.trim();
						console.log(msg);
						var per = msg.split(':')[0].trim();
						var agent = msg.split(':')[1].trim();
						var plans = msg.split(':')[2].trim().split(";");
						console.log(plans);
						msg=per;
						let source;
						$("#perText").text(msg);
						if(msg==='The Anxious Investor') $("img#perImage").attr("src","../img/anxious.png");
						else if(msg==='The Fitbit Financier') $("img#perImage").attr("src","../img/presentation.png");
						else if(msg==='Ostrich') $("img#perImage").attr("src","../img/ostrich.png");
						else if(msg==='The Hoarder') $("img#perImage").attr("src","../img/miserly.png");
						else if(msg==='The Cash Splasher') $("img#perImage").attr("src","../img/student.png");
						//else $("img#perImage").attr("src","").load();

						var items = [];
						$.each(plans, function(i, item) {
          		items.push('<li>'+item+'</li>');
   					});  // close each()
						$('ul#plans').empty();
   					$('ul#plans').append( items.join('') );
						$('#agentText').text(agent);
						if(agent=='Wasim') $("img#agentImage").attr("src","agents/agent1.png");
						else if(agent=="Ajit") $("img#agentImage").attr("src","agents/agent2.png");
						else if(agent=="Abhishek") $("img#agentImage").attr("src","agents/agent6.png");
						else if(agent=="Satyendra") $("img#agentImage").attr("src","agents/agent4.png");
						else if(agent=="Sanjay") $("img#agentImage").attr("src","agents/agent5.png");
						else if(agent=="Seema") $("img#agentImage").attr("src","agents/agent8.png");
						else if(agent=="Bipin")  $("img#agentImage").attr("src","agents/agent7.png");
					});
						socket.on('data',(msg)=>{
							console.log(msg);
							data = [msg.ValueExtraversion,
            msg.ValueConscientiousness,
            msg.ValueAgreeableness,
            msg.ValueNeurotisicm,
            msg.ValueOpenness];
							updateChart(data);

							$("#age").text(msg.maxage);
							$("#gender").text(msg.gender);

							setTimeout(()=>{
								socket.emit('exec',msg);
							},2000);
      			});

    			};
    			script.src = 'http://localhost:8080/socket.io.js';
    			d.getElementsByTagName('head')[0].appendChild(script);
		}(document));
    	});
	</script>



</html>
